(function(e){function t(t){for(var s,n,a=t[0],c=t[1],u=t[2],m=0,l=[];m<a.length;m++)n=a[m],r[n]&&l.push(r[n][0]),r[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);p&&p(t);while(l.length)l.shift()();return i.push.apply(i,u||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],s=!0,a=1;a<o.length;a++){var c=o[a];0!==r[c]&&(s=!1)}s&&(i.splice(t--,1),e=n(n.s=o[0]))}return e}var s={},r={app:0},i=[];function n(t){if(s[t])return s[t].exports;var o=s[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=s,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/my-daily-commits/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var p=c;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var s=o("c21b"),r=o.n(s);r.a},"18bc":function(e,t,o){"use strict";var s=o("d1a4"),r=o.n(s);r.a},2138:function(e,t,o){"use strict";var s=o("b3a8"),r=o.n(s);r.a},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("097d");var s=o("2b0e"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("since-until-date"),o("repositories"),o("display-settings"),o("token"),o("choose-date-type")],1)},i=[],n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h3",[e._v(e._s(e.token))]),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.tokenNew,expression:"tokenNew"}],attrs:{type:"text"},domProps:{value:e.tokenNew},on:{input:function(t){t.target.composing||(e.tokenNew=t.target.value)}}})]),o("button",{on:{click:function(t){e.saveToken(e.tokenNew)}}},[e._v("Save GitHub token")])])},a=[],c=o("c93e"),u=o("2f62"),p={name:"token",data:function(){return{tokenNew:""}},computed:{token:function(){return this.$store.state.token}},methods:Object(c["a"])({},Object(u["b"])(["saveToken"]))},m=p,l=(o("eaf3"),o("2877")),h=Object(l["a"])(m,n,a,!1,null,"2185229b",null);h.options.__file="Token.vue";var d=h.exports,f=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e._l(e.repositories,function(t){return o("div",{directives:[{name:"show",rawName:"v-show",value:e.showRepository(t),expression:"showRepository(repo)"}],key:t.id},[e._v(e._s(t.name)+"\n        "),e._l(t.branches,function(t){return o("div",{directives:[{name:"show",rawName:"v-show",value:e.showSource(t),expression:"showSource(branch)"}],staticClass:"branch"},[e._v(e._s(t.name)+"\n            "),e._l(t.commits,function(t){return o("div",{directives:[{name:"show",rawName:"v-show",value:e.showCommit(t.message),expression:"showCommit(commit.message)"}],staticClass:"commit"},[e._v(e._s(t.date)+" "+e._s(t.message)+"\n            ")])})],2)}),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showPullRequestsTitle(t.pullRequests),expression:"showPullRequestsTitle(repo.pullRequests)"}],staticClass:"pull_request_title"},[e._v("PullRequests\n        ")]),e._l(t.pullRequests,function(t){return o("div",{directives:[{name:"show",rawName:"v-show",value:e.showSource(t),expression:"showSource(pullRequest)"}],staticClass:"pull_request"},[e._v(e._s(t.title)+"\n            "),e._l(t.commits,function(t){return o("div",{directives:[{name:"show",rawName:"v-show",value:e.showCommit(t.message),expression:"showCommit(commit.message)"}],staticClass:"commit"},[e._v(e._s(t.date)+" "+e._s(t.message)+"\n            ")])})],2)})],2)}),o("button",{on:{click:e.loadUser}},[e._v("Load repos with token")])],2)},v=[],y={name:"repositories",computed:{repositories:function(){return this.$store.state.repositories},showMergeCommits:function(){return this.$store.state.showMergeCommits},showEmptySources:function(){return this.$store.state.showEmptySources},showEmptyRepositories:function(){return this.$store.state.showEmptyRepositories}},methods:Object(c["a"])({},Object(u["b"])(["loadUser"]),{showCommit:function(e){return this.showMergeCommits||0!==e.indexOf("Merge branch")},showSource:function(e){return!e.hasOwnProperty("commits")||(this.showEmptySources||0!==e.commits.length)},showPullRequestsTitle:function(e){if(this.showEmptySources)return!0;for(var t in e)if(e.hasOwnProperty(t)&&0!==e[t].commits.length)return!0;return!1},showRepository:function(e){if(this.showEmptyRepositories)return!0;for(var t in e.branches)if(e.branches.hasOwnProperty(t)&&0!==e.branches[t].commits.length)return!0;return this.showPullRequestsTitle(e.pullRequests)}})},w=y,g=(o("db32"),Object(l["a"])(w,f,v,!1,null,"092c2e06",null));g.options.__file="Ropositories.vue";var b=g.exports,_=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.dateType,expression:"dateType"}],attrs:{type:"radio",id:"prev_week",value:"1"},domProps:{checked:e._q(e.dateType,"1")},on:{change:function(t){e.dateType="1"}}}),o("label",{attrs:{for:"prev_week"}},[e._v("Previous Week")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.dateType,expression:"dateType"}],attrs:{type:"radio",id:"week",value:"2"},domProps:{checked:e._q(e.dateType,"2")},on:{change:function(t){e.dateType="2"}}}),o("label",{attrs:{for:"week"}},[e._v("Current Week")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.dateType,expression:"dateType"}],attrs:{type:"radio",id:"yesterday",value:"3"},domProps:{checked:e._q(e.dateType,"3")},on:{change:function(t){e.dateType="3"}}}),o("label",{attrs:{for:"yesterday"}},[e._v("Yesterday")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.dateType,expression:"dateType"}],attrs:{type:"radio",id:"today",value:"4"},domProps:{checked:e._q(e.dateType,"4")},on:{change:function(t){e.dateType="4"}}}),o("label",{attrs:{for:"today"}},[e._v("Today")]),o("br")])},k=[],R={name:"choose-date-type",computed:{dateType:{get:function(){return this.$store.state.dateType},set:function(e){this.$store.dispatch("saveDateType",e)}}}},S=R,T=(o("588b"),Object(l["a"])(S,_,k,!1,null,"4a6dd494",null));T.options.__file="ChooseDateType.vue";var P=T.exports,E=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e._v(e._s(e.dateSince)+" - "+e._s(e.dateUntil))])},C=[];function O(e,t){"undefined"===typeof t&&(t=!1);var o=new Date;o.setHours(0,0,0,0);var s=0===o.getDay()?6:o.getDay()-1;switch(e){case"1":o.setDate(o.getDate()-s-7);break;case"2":o.setDate(o.getDate()-s);break;case"3":o.setDate(o.getDate()-1);break;case"4":break}return t?o:o.toISOString()}function q(e,t){"undefined"===typeof t&&(t=!1);var o=new Date,s=0===o.getDay()?6:o.getDay()-1;switch(e){case"1":o.setDate(o.getDate()-s-1),o.setHours(23,59,59,999);break;case"2":break;case"3":o.setDate(o.getDate()-1),o.setHours(23,59,59,999);break;case"4":break}return t?o:o.toISOString()}var x={name:"since-until-date",computed:{dateSince:function(){return O(this.$store.state.dateType)},dateUntil:function(){return q(this.$store.state.dateType)}}},D=x,M=(o("2138"),Object(l["a"])(D,E,C,!1,null,"52300b17",null));M.options.__file="SinceUntilDate.vue";var $=M.exports,N=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.showMergeCommits,expression:"showMergeCommits"}],attrs:{type:"checkbox",id:"show_merge_commits"},domProps:{checked:Array.isArray(e.showMergeCommits)?e._i(e.showMergeCommits,null)>-1:e.showMergeCommits},on:{change:function(t){var o=e.showMergeCommits,s=t.target,r=!!s.checked;if(Array.isArray(o)){var i=null,n=e._i(o,i);s.checked?n<0&&(e.showMergeCommits=o.concat([i])):n>-1&&(e.showMergeCommits=o.slice(0,n).concat(o.slice(n+1)))}else e.showMergeCommits=r}}}),o("label",{attrs:{for:"show_merge_commits"}},[e._v("Show merge commits")])]),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.showEmptySources,expression:"showEmptySources"}],attrs:{type:"checkbox",id:"show_empty_sources"},domProps:{checked:Array.isArray(e.showEmptySources)?e._i(e.showEmptySources,null)>-1:e.showEmptySources},on:{change:function(t){var o=e.showEmptySources,s=t.target,r=!!s.checked;if(Array.isArray(o)){var i=null,n=e._i(o,i);s.checked?n<0&&(e.showEmptySources=o.concat([i])):n>-1&&(e.showEmptySources=o.slice(0,n).concat(o.slice(n+1)))}else e.showEmptySources=r}}}),o("label",{attrs:{for:"show_empty_sources"}},[e._v("Show empty sources")])]),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.showEmptyRepositories,expression:"showEmptyRepositories"}],attrs:{type:"checkbox",id:"show_empty_repositories"},domProps:{checked:Array.isArray(e.showEmptyRepositories)?e._i(e.showEmptyRepositories,null)>-1:e.showEmptyRepositories},on:{change:function(t){var o=e.showEmptyRepositories,s=t.target,r=!!s.checked;if(Array.isArray(o)){var i=null,n=e._i(o,i);s.checked?n<0&&(e.showEmptyRepositories=o.concat([i])):n>-1&&(e.showEmptyRepositories=o.slice(0,n).concat(o.slice(n+1)))}else e.showEmptyRepositories=r}}}),o("label",{attrs:{for:"show_empty_repositories"}},[e._v("Show empty repositories")])])])},j=[],I={name:"display-settings",computed:{showMergeCommits:{get:function(){return this.$store.state.showMergeCommits},set:function(e){this.$store.dispatch("saveShowMergeCommits",e)}},showEmptySources:{get:function(){return this.$store.state.showEmptySources},set:function(e){this.$store.dispatch("saveShowEmptySources",e)}},showEmptyRepositories:{get:function(){return this.$store.state.showEmptyRepositories},set:function(e){this.$store.dispatch("saveShowEmptyRepositories",e)}}}},A=I,F=(o("18bc"),Object(l["a"])(A,N,j,!1,null,"19227118",null));F.options.__file="DisplaySettings.vue";var U=F.exports,B={name:"app",components:{DisplaySettings:U,SinceUntilDate:$,ChooseDateType:P,Repositories:b,Token:d}},H=B,J=(o("034f"),Object(l["a"])(H,r,i,!1,null,null,null));J.options.__file="App.vue";var W=J.exports,G=(o("7f7f"),o("bc3a")),L=o.n(G),Y=o("0e44");s["a"].use(u["a"]);var z=new u["a"].Store({state:{user:"",token:"",repositories:{},dateType:"3",showMergeCommits:!1,showEmptySources:!1,showEmptyRepositories:!1},mutations:{saveToken:function(e,t){e.token=t},saveDateType:function(e,t){e.dateType=t},saveShowMergeCommits:function(e,t){e.showMergeCommits=t},saveShowEmptySources:function(e,t){e.showEmptySources=t},saveShowEmptyRepositories:function(e,t){e.showEmptyRepositories=t},setUser:function(e,t){t.hasOwnProperty("login")&&(e.user=t.login)},setRepositories:function(e,t){for(var o in t)if(t.hasOwnProperty(o)){var r=t[o].id;if(!e.repositories.hasOwnProperty(r)){var i={name:t[o].full_name,private:t[o].private,branches:{},pullRequests:{}};s["a"].set(e.repositories,r,i)}}},setBranchesForRepository:function(e,t){var o=t.branchData,r=t.repositoryId;for(var i in o)if(o.hasOwnProperty(i)){var n=o[i].name,a={name:n,commits:[]};s["a"].set(e.repositories[r].branches,n,a)}},setPullRequestsForRepository:function(e,t){var o=t.pullRequests,r=t.repositoryId,i=O(e.dateType,!0).getTime(),n=q(e.dateType,!0).getTime();for(var a in o)if(o.hasOwnProperty(a)){var c=o[a].merged_at,u=new Date(c).getTime();if(!(u>n)){if(u<i)break;var p=o[a].id,m={title:o[a].title,merged_at:c,head:o[a].head.sha,commits:[]};s["a"].set(e.repositories[r].pullRequests,p,m)}}},setCommits:function(e,t){var o=t.commits,s=t.repositoryId,r=t.branch,i=t.pullRequestId,n=[],a=e.repositories[s].branches.hasOwnProperty("master")?e.repositories[s].branches.master.commits:[],c={};for(var u in a)c[a[u].sha]=!0;for(var p in o){var m=o[p],l=m.sha;if(!c.hasOwnProperty(l)){var h={message:m.commit.message,date:m.commit.committer.date,sha:l};n.push(h)}}"undefined"!==typeof r?e.repositories[s].branches[r].commits=n:"undefined"!==typeof i&&(e.repositories[s].pullRequests[i].commits=n)}},actions:{saveToken:function(e,t){var o=e.commit;if(0!==t.length)return o("saveToken",t)},saveDateType:function(e,t){var o=e.commit;return o("saveDateType",t)},saveShowMergeCommits:function(e,t){var o=e.commit;return o("saveShowMergeCommits",t)},saveShowEmptySources:function(e,t){var o=e.commit;return o("saveShowEmptySources",t)},saveShowEmptyRepositories:function(e,t){var o=e.commit;return o("saveShowEmptyRepositories",t)},loadUser:function(e){var t=e.state,o=e.commit,s=e.dispatch;if("string"===typeof t.token&&0!==t.token.length){var r="https://api.github.com/user";return L.a.get(r,{params:{access_token:t.token}}).then(function(e){o("setUser",e.data),s("loadRepositories")}).catch(function(e){return console.log(e)})}},loadRepositories:function(e){var t=e.dispatch,o=e.state,s=e.commit;if("string"===typeof o.token&&0!==o.token.length){var r="https://api.github.com/user/repos";return L.a.get(r,{params:{access_token:o.token}}).then(function(e){s("setRepositories",e.data),t("loadBranchesForAllRepositories")}).catch(function(e){return console.log(e)})}},loadBranchesForAllRepositories:function(e){var t=e.dispatch,o=e.state;if("string"===typeof o.token&&0!==o.token.length){var s=function(e){if(!o.repositories.hasOwnProperty(e))return"continue";t("loadBranches",e).then(function(){t("loadPullRequests",e)})};for(var r in o.repositories)s(r)}},loadBranches:function(e,t){var o=e.dispatch,s=e.state,r=e.commit;if("string"===typeof s.token&&0!==s.token.length&&s.repositories.hasOwnProperty(t)){var i="https://api.github.com/repos/"+s.repositories[t].name+"/branches";return L.a.get(i,{params:{access_token:s.token}}).then(function(e){r("setBranchesForRepository",{branchData:e.data,repositoryId:t}),o("loadCommitsForBranches",t)}).catch(function(e){return console.log(e)})}},loadCommitsForBranches:function(e,t){var o=e.dispatch,s=e.state;if("string"===typeof s.token&&0!==s.token.length&&s.repositories.hasOwnProperty(t)){var r="master",i=[],n=!1;for(var a in s.repositories[t].branches)s.repositories[t].branches.hasOwnProperty(a)&&(a!==r?i.push(a):n=!0);if(n)o("loadCommits",{repositoryId:t,branch:r}).then(function(){for(var e in i)o("loadCommits",{repositoryId:t,branch:i[e]})});else for(var c in i)o("loadCommits",{repositoryId:t,branch:i[c]})}},loadCommits:function(e,t){var o=e.state,s=e.commit,r=t.repositoryId,i=t.branch;if("string"===typeof o.token&&0!==o.token.length&&o.repositories.hasOwnProperty(r)&&o.repositories[r].branches.hasOwnProperty(i)){var n="https://api.github.com/repos/"+o.repositories[r].name+"/commits";return L.a.get(n,{params:{access_token:o.token,sha:i,author:o.user,since:O(o.dateType),until:q(o.dateType),per_page:100}}).then(function(e){return s("setCommits",{commits:e.data,repositoryId:r,branch:i})}).catch(function(e){return console.log(e)})}},loadPullRequests:function(e,t){var o=e.dispatch,s=e.state,r=e.commit;if("string"===typeof s.token&&0!==s.token.length&&s.repositories.hasOwnProperty(t)){var i="https://api.github.com/repos/"+s.repositories[t].name+"/pulls";return L.a.get(i,{params:{access_token:s.token,direction:"desc",state:"closed",per_page:100}}).then(function(e){r("setPullRequestsForRepository",{pullRequests:e.data,repositoryId:t}),o("loadCommitsForRepositoryPullRequests",t)}).catch(function(e){return console.log(e)})}},loadCommitsForRepositoryPullRequests:function(e,t){var o=e.dispatch,s=e.state;if("string"===typeof s.token&&0!==s.token.length&&s.repositories.hasOwnProperty(t))for(var r in s.repositories[t].pullRequests)s.repositories[t].pullRequests.hasOwnProperty(r)&&o("loadCommitsForPullRequest",{repositoryId:t,pullRequestId:r})},loadCommitsForPullRequest:function(e,t){var o=e.state,s=e.commit,r=t.repositoryId,i=t.pullRequestId;if("string"===typeof o.token&&0!==o.token.length&&o.repositories.hasOwnProperty(r)&&o.repositories[r].pullRequests.hasOwnProperty(i)){var n=o.repositories[r].pullRequests[i],a="https://api.github.com/repos/"+o.repositories[r].name+"/commits";return L.a.get(a,{params:{access_token:o.token,sha:n.head,author:o.user,since:O(o.dateType),until:q(o.dateType),per_page:100}}).then(function(e){return s("setCommits",{commits:e.data,repositoryId:r,pullRequestId:i})}).catch(function(e){return console.log(e)})}}},plugins:[Object(Y["a"])({paths:["token","dateType","showMergeCommits","showEmptySources"]})]});s["a"].config.productionTip=!1,new s["a"]({store:z,render:function(e){return e(W)}}).$mount("#app")},"588b":function(e,t,o){"use strict";var s=o("b1cb"),r=o.n(s);r.a},8927:function(e,t,o){},b1cb:function(e,t,o){},b3a8:function(e,t,o){},bce4:function(e,t,o){},c21b:function(e,t,o){},d1a4:function(e,t,o){},db32:function(e,t,o){"use strict";var s=o("8927"),r=o.n(s);r.a},eaf3:function(e,t,o){"use strict";var s=o("bce4"),r=o.n(s);r.a}});
//# sourceMappingURL=app.e9148734.js.map