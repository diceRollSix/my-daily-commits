(function(e){function t(t){for(var r,s,i=t[0],c=t[1],p=t[2],d=0,l=[];d<i.length;d++)s=i[d],n[s]&&l.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(l.length)l.shift()();return a.push.apply(a,p||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],r=!0,i=1;i<o.length;i++){var c=o[i];0!==n[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=o[0]))}return e}var r={},n={app:0},a=[];function s(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=r,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(o,r,function(t){return e[t]}.bind(null,r));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/my-daily-commits/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var p=0;p<i.length;p++)t(i[p]);var u=c;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var r=o("c21b"),n=o.n(r);n.a},"50d4":function(e,t,o){"use strict";var r=o("e32a"),n=o.n(r);n.a},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("097d");var r=o("2b0e"),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("since-date"),o("repositories"),o("token"),o("choose-date-type")],1)},a=[],s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h3",[e._v(e._s(e.token))]),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.tokenNew,expression:"tokenNew"}],attrs:{type:"text"},domProps:{value:e.tokenNew},on:{input:function(t){t.target.composing||(e.tokenNew=t.target.value)}}})]),o("button",{on:{click:function(t){e.saveToken(e.tokenNew)}}},[e._v("Save GitHub token")])])},i=[],c=o("c93e"),p=o("2f62"),u={name:"token",data:function(){return{tokenNew:""}},computed:{token:function(){return this.$store.state.token}},methods:Object(c["a"])({},Object(p["b"])(["saveToken"]))},d=u,l=(o("b2fd"),o("2877")),f=Object(l["a"])(d,s,i,!1,null,"0a4557fe",null);f.options.__file="Token.vue";var m=f.exports,v=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e._l(e.repositories,function(t){return o("div",{key:t.id},[e._v(e._s(t.name)+"\n        "),e._l(t.branches,function(t){return o("div",{staticClass:"branch"},[e._v(e._s(t.name)+"\n            "),e._l(t.commits,function(t){return o("div",{staticClass:"commit"},[e._v(e._s(t.date)+" "+e._s(t.message)+"\n            ")])})],2)})],2)}),o("button",{on:{click:e.loadUser}},[e._v("Load repos with token")])],2)},h=[],y={name:"repositories",computed:{repositories:function(){return this.$store.state.repositories}},methods:Object(c["a"])({},Object(p["b"])(["loadUser"]))},b=y,k=(o("bd41"),Object(l["a"])(b,v,h,!1,null,"ac3e4466",null));k.options.__file="Ropositories.vue";var g=k.exports,_=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.dateType,expression:"dateType"}],attrs:{type:"radio",id:"prev_week",value:"1"},domProps:{checked:e._q(e.dateType,"1")},on:{change:function(t){e.dateType="1"}}}),o("label",{attrs:{for:"prev_week"}},[e._v("Previous Week")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.dateType,expression:"dateType"}],attrs:{type:"radio",id:"week",value:"2"},domProps:{checked:e._q(e.dateType,"2")},on:{change:function(t){e.dateType="2"}}}),o("label",{attrs:{for:"week"}},[e._v("Current Week")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.dateType,expression:"dateType"}],attrs:{type:"radio",id:"yesterday",value:"3"},domProps:{checked:e._q(e.dateType,"3")},on:{change:function(t){e.dateType="3"}}}),o("label",{attrs:{for:"yesterday"}},[e._v("Yesterday")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.dateType,expression:"dateType"}],attrs:{type:"radio",id:"today",value:"4"},domProps:{checked:e._q(e.dateType,"4")},on:{change:function(t){e.dateType="4"}}}),o("label",{attrs:{for:"today"}},[e._v("Today")]),o("br")])},w=[],T={name:"choose-date-type",computed:{dateType:{get:function(){return this.$store.state.dateType},set:function(e){this.$store.dispatch("saveDateType",e)}}}},O=T,P=(o("50d4"),Object(l["a"])(O,_,w,!1,null,"658a4e0d",null));P.options.__file="ChooseDateType.vue";var D=P.exports,j=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e._v(e._s(e.date))])},x=[];function C(e){var t=new Date;t.setHours(0,0,0,0);var o=0===t.getDay()?6:t.getDay()-1;switch(e){case"1":t.setDate(t.getDate()-o-7);break;case"2":t.setDate(t.getDate()-o);break;case"3":t.setDate(t.getDate()-1);break;case"4":break}return t.toISOString()}var N={name:"since-date",computed:{date:function(){return C(this.$store.state.dateType)}}},S=N,$=(o("69a0"),Object(l["a"])(S,j,x,!1,null,"76a0561c",null));$.options.__file="SinceDate.vue";var B=$.exports,R={name:"app",components:{SinceDate:B,ChooseDateType:D,Repositories:g,Token:m}},I=R,F=(o("034f"),Object(l["a"])(I,n,a,!1,null,null,null));F.options.__file="App.vue";var E=F.exports,U=(o("7f7f"),o("bc3a")),q=o.n(U),M=o("0e44");r["a"].use(p["a"]);var A=new p["a"].Store({state:{user:"",token:"",repositories:{},dateType:"3"},mutations:{saveToken:function(e,t){e.token=t},saveDateType:function(e,t){e.dateType=t},setUser:function(e,t){t.hasOwnProperty("login")&&(e.user=t.login)},setRepositories:function(e,t){for(var o in t)if(t.hasOwnProperty(o)){var n=t[o].id;if(!e.repositories.hasOwnProperty(n)){var a={name:t[o].full_name,private:t[o].private,branches:{}};r["a"].set(e.repositories,n,a)}}},setBranchesForRepository:function(e,t){for(var o in t.branchData){var n=t.branchData[o].name,a={name:n,commits:[]};r["a"].set(e.repositories[t.repositoryId].branches,n,a)}},setCommitsForBranch:function(e,t){var o=t.commits,r=t.repositoryId,n=t.branch,a=[],s=e.repositories[r].branches.hasOwnProperty("master")?e.repositories[r].branches.master.commits:[],i={};for(var c in s)i[s[c].sha]=!0;for(var p in o){var u=o[p],d=u.sha;if(!i.hasOwnProperty(d)){var l={message:u.commit.message,date:u.commit.committer.date,sha:d};a.push(l)}}e.repositories[r].branches[n].commits=a}},actions:{saveToken:function(e,t){var o=e.commit;if(0!==t.length)return o("saveToken",t)},saveDateType:function(e,t){var o=e.commit;return o("saveDateType",t)},loadUser:function(e){var t=e.state,o=e.commit,r=e.dispatch;if("string"===typeof t.token&&0!==t.token.length){var n="https://api.github.com/user";return q.a.get(n,{params:{access_token:t.token}}).then(function(e){o("setUser",e.data),r("loadRepositories")}).catch(function(e){return console.log(e)})}},loadRepositories:function(e){var t=e.dispatch,o=e.state,r=e.commit;if("string"===typeof o.token&&0!==o.token.length){var n="https://api.github.com/user/repos";return q.a.get(n,{params:{access_token:o.token}}).then(function(e){r("setRepositories",e.data),t("loadBranchesForAllRepositories")}).catch(function(e){return console.log(e)})}},loadBranchesForAllRepositories:function(e){var t=e.dispatch,o=e.state;if("string"===typeof o.token&&0!==o.token.length)for(var r in o.repositories)o.repositories.hasOwnProperty(r)&&t("loadBranches",r)},loadBranches:function(e,t){var o=e.dispatch,r=e.state,n=e.commit;if("string"===typeof r.token&&0!==r.token.length&&r.repositories.hasOwnProperty(t)){var a="https://api.github.com/repos/"+r.repositories[t].name+"/branches";return q.a.get(a,{params:{access_token:r.token}}).then(function(e){n("setBranchesForRepository",{branchData:e.data,repositoryId:t}),o("loadCommitsForBranches",t)}).catch(function(e){return console.log(e)})}},loadCommitsForBranches:function(e,t){var o=e.dispatch,r=e.state;if("string"===typeof r.token&&0!==r.token.length&&r.repositories.hasOwnProperty(t)){var n="master",a=[],s=!1;for(var i in r.repositories[t].branches)r.repositories[t].branches.hasOwnProperty(i)&&(i!==n?a.push(i):s=!0);if(s)o("loadCommits",{repositoryId:t,branch:n}).then(function(){for(var e in a)o("loadCommits",{repositoryId:t,branch:a[e]})});else for(var c in a)o("loadCommits",{repositoryId:t,branch:a[c]})}},loadCommits:function(e,t){var o=e.state,r=e.commit,n=t.repositoryId,a=t.branch;if("string"===typeof o.token&&0!==o.token.length&&o.repositories.hasOwnProperty(n)&&o.repositories[n].branches.hasOwnProperty(a)){var s="https://api.github.com/repos/"+o.repositories[n].name+"/commits";return q.a.get(s,{params:{access_token:o.token,sha:a,author:o.user,since:C(o.dateType)}}).then(function(e){return r("setCommitsForBranch",{commits:e.data,repositoryId:n,branch:a})}).catch(function(e){return console.log(e)})}}},plugins:[Object(M["a"])({paths:["token","dateType"]})]});r["a"].config.productionTip=!1,new r["a"]({store:A,render:function(e){return e(E)}}).$mount("#app")},"69a0":function(e,t,o){"use strict";var r=o("ebb1"),n=o.n(r);n.a},b2fd:function(e,t,o){"use strict";var r=o("d1c3"),n=o.n(r);n.a},bd41:function(e,t,o){"use strict";var r=o("eeca"),n=o.n(r);n.a},c21b:function(e,t,o){},d1c3:function(e,t,o){},e32a:function(e,t,o){},ebb1:function(e,t,o){},eeca:function(e,t,o){}});
//# sourceMappingURL=app.809abca9.js.map