(function(e){function t(t){for(var o,n,a=t[0],c=t[1],u=t[2],m=0,l=[];m<a.length;m++)n=a[m],r[n]&&l.push(r[n][0]),r[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);p&&p(t);while(l.length)l.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],o=!0,a=1;a<s.length;a++){var c=s[a];0!==r[c]&&(o=!1)}o&&(i.splice(t--,1),e=n(n.s=s[0]))}return e}var o={},r={app:0},i=[];function n(t){if(o[t])return o[t].exports;var s=o[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=o,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}.bind(null,o));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/my-daily-commits/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var p=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var o=s("c21b"),r=s.n(o);r.a},"18bc":function(e,t,s){"use strict";var o=s("d1a4"),r=s.n(o);r.a},2138:function(e,t,s){"use strict";var o=s("b3a8"),r=s.n(o);r.a},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("097d");var o=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("since-until-date"),s("repositories"),s("display-settings"),s("token"),s("choose-date-type")],1)},i=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h3",[e._v(e._s(e.token))]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tokenNew,expression:"tokenNew"}],attrs:{type:"text"},domProps:{value:e.tokenNew},on:{input:function(t){t.target.composing||(e.tokenNew=t.target.value)}}})]),s("button",{on:{click:function(t){e.saveToken(e.tokenNew)}}},[e._v("Save GitHub token")])])},a=[],c=s("c93e"),u=s("2f62"),p={name:"token",data:function(){return{tokenNew:""}},computed:{token:function(){return this.$store.state.token}},methods:Object(c["a"])({},Object(u["b"])(["saveToken"]))},m=p,l=(s("eaf3"),s("2877")),h=Object(l["a"])(m,n,a,!1,null,"2185229b",null);h.options.__file="Token.vue";var d=h.exports,f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._l(e.repositories,function(t){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.showRepository(t),expression:"showRepository(repo)"}],key:t.id},[e._v(e._s(t.name)+"\n        "),e._l(t.branches,function(t){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.showSource(t),expression:"showSource(branch)"}],staticClass:"branch"},[e._v(e._s(t.name)+"\n            "),e._l(t.commits,function(t){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.showCommit(t.message),expression:"showCommit(commit.message)"}],staticClass:"commit"},[e._v(e._s(t.date)+" "+e._s(t.message)+"\n            ")])})],2)}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showPullRequestsTitle(t.pullRequests),expression:"showPullRequestsTitle(repo.pullRequests)"}],staticClass:"pull_request_title"},[e._v("PullRequests\n        ")]),e._l(t.pullRequests,function(t){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.showSource(t),expression:"showSource(pullRequest)"}],staticClass:"pull_request"},[e._v(e._s(t.title)+"\n            "),e._l(t.commits,function(t){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.showCommit(t.message),expression:"showCommit(commit.message)"}],staticClass:"commit"},[e._v(e._s(t.date)+" "+e._s(t.message)+"\n            ")])})],2)})],2)}),s("button",{on:{click:e.loadUserCommitSourceData}},[e._v("Load repos with token")])],2)},v=[],y={name:"repositories",computed:{repositories:function(){return this.$store.state.repositories},showMergeCommits:function(){return this.$store.state.showMergeCommits},showEmptySources:function(){return this.$store.state.showEmptySources},showEmptyRepositories:function(){return this.$store.state.showEmptyRepositories}},methods:Object(c["a"])({},Object(u["b"])(["loadUserCommitSourceData"]),{showCommit:function(e){return this.showMergeCommits||0!==e.indexOf("Merge branch")},showSource:function(e){return!e.hasOwnProperty("commits")||(this.showEmptySources||0!==e.commits.length)},showPullRequestsTitle:function(e){if(this.showEmptySources)return!0;for(var t in e)if(e.hasOwnProperty(t)&&0!==e[t].commits.length)return!0;return!1},showRepository:function(e){if(this.showEmptyRepositories)return!0;for(var t in e.branches)if(e.branches.hasOwnProperty(t)&&0!==e.branches[t].commits.length)return!0;return this.showPullRequestsTitle(e.pullRequests)}})},w=y,g=(s("e56a"),Object(l["a"])(w,f,v,!1,null,"09714276",null));g.options.__file="Ropositories.vue";var b=g.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.dateType,expression:"dateType"}],attrs:{type:"radio",id:"prev_week",value:"1"},domProps:{checked:e._q(e.dateType,"1")},on:{change:function(t){e.dateType="1"}}}),s("label",{attrs:{for:"prev_week"}},[e._v("Previous Week")]),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.dateType,expression:"dateType"}],attrs:{type:"radio",id:"week",value:"2"},domProps:{checked:e._q(e.dateType,"2")},on:{change:function(t){e.dateType="2"}}}),s("label",{attrs:{for:"week"}},[e._v("Current Week")]),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.dateType,expression:"dateType"}],attrs:{type:"radio",id:"yesterday",value:"3"},domProps:{checked:e._q(e.dateType,"3")},on:{change:function(t){e.dateType="3"}}}),s("label",{attrs:{for:"yesterday"}},[e._v("Yesterday")]),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.dateType,expression:"dateType"}],attrs:{type:"radio",id:"today",value:"4"},domProps:{checked:e._q(e.dateType,"4")},on:{change:function(t){e.dateType="4"}}}),s("label",{attrs:{for:"today"}},[e._v("Today")]),s("br")])},k=[],S={name:"choose-date-type",computed:{dateType:{get:function(){return this.$store.state.dateType},set:function(e){this.$store.dispatch("saveDateType",e)}}}},R=S,E=(s("588b"),Object(l["a"])(R,_,k,!1,null,"4a6dd494",null));E.options.__file="ChooseDateType.vue";var T=E.exports,C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._v(e._s(e.dateSince)+" - "+e._s(e.dateUntil))])},O=[];function P(e,t){"undefined"===typeof t&&(t=!1);var s=new Date;s.setHours(0,0,0,0);var o=0===s.getDay()?6:s.getDay()-1;switch(e){case"1":s.setDate(s.getDate()-o-7);break;case"2":s.setDate(s.getDate()-o);break;case"3":s.setDate(s.getDate()-1);break;case"4":break}return t?s:s.toISOString()}function D(e,t){"undefined"===typeof t&&(t=!1);var s=new Date,o=0===s.getDay()?6:s.getDay()-1;switch(e){case"1":s.setDate(s.getDate()-o-1),s.setHours(23,59,59,999);break;case"2":break;case"3":s.setDate(s.getDate()-1),s.setHours(23,59,59,999);break;case"4":break}return t?s:s.toISOString()}var q={name:"since-until-date",computed:{dateSince:function(){return P(this.$store.state.dateType)},dateUntil:function(){return D(this.$store.state.dateType)}}},x=q,M=(s("2138"),Object(l["a"])(x,C,O,!1,null,"52300b17",null));M.options.__file="SinceUntilDate.vue";var $=M.exports,N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showMergeCommits,expression:"showMergeCommits"}],attrs:{type:"checkbox",id:"show_merge_commits"},domProps:{checked:Array.isArray(e.showMergeCommits)?e._i(e.showMergeCommits,null)>-1:e.showMergeCommits},on:{change:function(t){var s=e.showMergeCommits,o=t.target,r=!!o.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);o.checked?n<0&&(e.showMergeCommits=s.concat([i])):n>-1&&(e.showMergeCommits=s.slice(0,n).concat(s.slice(n+1)))}else e.showMergeCommits=r}}}),s("label",{attrs:{for:"show_merge_commits"}},[e._v("Show merge commits")])]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showEmptySources,expression:"showEmptySources"}],attrs:{type:"checkbox",id:"show_empty_sources"},domProps:{checked:Array.isArray(e.showEmptySources)?e._i(e.showEmptySources,null)>-1:e.showEmptySources},on:{change:function(t){var s=e.showEmptySources,o=t.target,r=!!o.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);o.checked?n<0&&(e.showEmptySources=s.concat([i])):n>-1&&(e.showEmptySources=s.slice(0,n).concat(s.slice(n+1)))}else e.showEmptySources=r}}}),s("label",{attrs:{for:"show_empty_sources"}},[e._v("Show empty sources")])]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showEmptyRepositories,expression:"showEmptyRepositories"}],attrs:{type:"checkbox",id:"show_empty_repositories"},domProps:{checked:Array.isArray(e.showEmptyRepositories)?e._i(e.showEmptyRepositories,null)>-1:e.showEmptyRepositories},on:{change:function(t){var s=e.showEmptyRepositories,o=t.target,r=!!o.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);o.checked?n<0&&(e.showEmptyRepositories=s.concat([i])):n>-1&&(e.showEmptyRepositories=s.slice(0,n).concat(s.slice(n+1)))}else e.showEmptyRepositories=r}}}),s("label",{attrs:{for:"show_empty_repositories"}},[e._v("Show empty repositories")])])])},j=[],A={name:"display-settings",computed:{showMergeCommits:{get:function(){return this.$store.state.showMergeCommits},set:function(e){this.$store.dispatch("saveShowMergeCommits",e)}},showEmptySources:{get:function(){return this.$store.state.showEmptySources},set:function(e){this.$store.dispatch("saveShowEmptySources",e)}},showEmptyRepositories:{get:function(){return this.$store.state.showEmptyRepositories},set:function(e){this.$store.dispatch("saveShowEmptyRepositories",e)}}}},U=A,H=(s("18bc"),Object(l["a"])(U,N,j,!1,null,"19227118",null));H.options.__file="DisplaySettings.vue";var W=H.exports,I={name:"app",components:{DisplaySettings:W,SinceUntilDate:$,ChooseDateType:T,Repositories:b,Token:d}},F=I,G=(s("034f"),Object(l["a"])(F,r,i,!1,null,null,null));G.options.__file="App.vue";var J=G.exports,z=(s("7f7f"),s("bc3a")),B=s.n(z),L=s("0e44");o["a"].use(u["a"]);var Y=new u["a"].Store({state:{user:"",token:"",repositories:{},dateType:"3",showMergeCommits:!1,showEmptySources:!1,showEmptyRepositories:!1},mutations:{saveToken:function(e,t){e.token=t},saveDateType:function(e,t){e.dateType=t},saveShowMergeCommits:function(e,t){e.showMergeCommits=t},saveShowEmptySources:function(e,t){e.showEmptySources=t},saveShowEmptyRepositories:function(e,t){e.showEmptyRepositories=t},setUser:function(e,t){e.user=t},setRepository:function(e,t){var s=t.nameWithOwner,r={};for(var i in t.refs.edges)if(t.refs.edges.hasOwnProperty(i)){var n=t.refs.edges[i].node,a={name:n.name,commits:[]};o["a"].set(r,n.name,a)}var c=P(e.dateType,!0).getTime(),u={};for(var p in t.pullRequests.edges)if(t.pullRequests.edges.hasOwnProperty(p)){var m=t.pullRequests.edges[p].node,l=m.mergedAt,h=new Date(l).getTime();if(!(h<c)){var d={number:m.number,title:m.title,mergedAt:l,head:m.headRefOid,commits:[]};o["a"].set(u,m.number,d)}}var f={name:s,private:t.isisPrivate,branches:r,pullRequests:u};o["a"].set(e.repositories,s,f)},setCommits:function(e,t){var s=t.commits,o=t.repository,r=t.branch,i=t.pullRequest,n=[],a=e.repositories[o].branches.hasOwnProperty("master")?e.repositories[o].branches.master.commits:[],c={};for(var u in a)c[a[u].sha]=!0;for(var p in s)if(s.hasOwnProperty(p)){var m=s[p];if(!c.hasOwnProperty(m.sha)){var l={message:m.commit.message,date:m.commit.committer.date,sha:m.sha};n.push(l)}}"undefined"!==typeof r?e.repositories[o].branches[r].commits=n:"undefined"!==typeof i&&(e.repositories[o].pullRequests[i].commits=n)}},actions:{saveToken:function(e,t){var s=e.commit;if(0!==t.length)return s("saveToken",t)},saveDateType:function(e,t){var s=e.commit;return s("saveDateType",t)},saveShowMergeCommits:function(e,t){var s=e.commit;return s("saveShowMergeCommits",t)},saveShowEmptySources:function(e,t){var s=e.commit;return s("saveShowEmptySources",t)},saveShowEmptyRepositories:function(e,t){var s=e.commit;return s("saveShowEmptyRepositories",t)},loadUserCommitSourceData:function(e){var t=e.state,s=e.commit,o=e.dispatch;if("string"===typeof t.token&&0!==t.token.length){var r='{ viewer { login name repositories(first: 20) { totalCount edges { node { nameWithOwner isPrivate refs(first: 20, refPrefix: "refs/heads/") { totalCount edges { node { name } } } pullRequests(states: MERGED, first: 30, orderBy:{field:UPDATED_AT, direction:DESC}) { edges { node { databaseId number title headRefOid mergedAt } } } } } } } }',i={query:r},n={method:"post",headers:{Authorization:"bearer "+t.token},data:i,url:"https://api.github.com/graphql"};B()(n).then(function(e){var r=e.data.data.viewer;for(var i in s("setUser",r.login),r.repositories.edges)if(r.repositories.edges.hasOwnProperty(i)){var n=r.repositories.edges[i].node;s("setRepository",n)}for(var a in t.repositories)t.repositories.hasOwnProperty(a)&&o("loadCommitsForRepository",a)}).catch(function(e){return console.log(e)})}},loadCommitsForRepository:function(e,t){var s=e.dispatch,o=e.state;if("string"===typeof o.token&&0!==o.token.length&&o.repositories.hasOwnProperty(t)){var r="master",i=[],n=!1;for(var a in o.repositories[t].branches)o.repositories[t].branches.hasOwnProperty(a)&&(a!==r?i.push(a):n=!0);var c=function(){for(var e in i)s("loadCommits",{repository:t,branch:i[e]});for(var r in o.repositories[t].pullRequests)o.repositories[t].pullRequests.hasOwnProperty(r)&&s("loadCommits",{repository:t,pullRequest:r})};n?s("loadCommits",{repository:t,branch:r}).then(c):c()}},loadCommits:function(e,t){var s=e.state,o=e.commit,r=t.repository,i=t.branch,n=t.pullRequest;if("string"===typeof s.token&&0!==s.token.length&&s.repositories.hasOwnProperty(r)&&("undefined"===typeof i||s.repositories[r].branches.hasOwnProperty(i))&&("undefined"===typeof n||s.repositories[r].pullRequests.hasOwnProperty(n))){var a="https://api.github.com/repos/"+s.repositories[r].name+"/commits",c="undefined"!==typeof i?i:s.repositories[r].pullRequests[n].head;return B.a.get(a,{params:{access_token:s.token,sha:c,author:s.user,since:P(s.dateType),until:D(s.dateType),per_page:100}}).then(function(e){return o("setCommits",{commits:e.data,repository:r,branch:i,pullRequest:n})}).catch(function(e){return console.log(e)})}}},plugins:[Object(L["a"])({paths:["token","dateType","showMergeCommits","showEmptySources","showEmptyRepositories"]})]});o["a"].config.productionTip=!1,new o["a"]({store:Y,render:function(e){return e(J)}}).$mount("#app")},"588b":function(e,t,s){"use strict";var o=s("b1cb"),r=s.n(o);r.a},b1cb:function(e,t,s){},b3a8:function(e,t,s){},b583:function(e,t,s){},bce4:function(e,t,s){},c21b:function(e,t,s){},d1a4:function(e,t,s){},e56a:function(e,t,s){"use strict";var o=s("b583"),r=s.n(o);r.a},eaf3:function(e,t,s){"use strict";var o=s("bce4"),r=s.n(o);r.a}});
//# sourceMappingURL=app.804fb48c.js.map